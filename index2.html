<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MemoPulse | Intelligent Meeting Minutes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Poppins:wght@700;800&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                fontFamily: {
                    sans: ['Inter', 'sans-serif'],
                    logo: ['Poppins', 'sans-serif'],
                },
                extend: {
                    colors: {
                        glass: "rgba(255, 255, 255, 0.08)",
                    },
                    animation: {
                        'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                }
            }
        }
    </script>
    <style>
        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .animated-bg {
            background-size: 300% 300%;
            animation: gradient-shift 12s ease infinite;
        }
        /* Custom scrollbar */
        .summary-scroll::-webkit-scrollbar { width: 6px; }
        .summary-scroll::-webkit-scrollbar-track { background: rgba(0,0,0,0.1); }
        .summary-scroll::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 10px;}
    </style>
</head>

<body class="bg-gradient-to-br from-slate-900 via-indigo-950 to-black min-h-screen text-white font-sans animated-bg flex items-center justify-center p-4">

    <main class="bg-glass backdrop-blur-2xl border border-white/10 shadow-[0_0_40px_rgba(79,70,229,0.15)] rounded-3xl p-8 md:p-12 max-w-3xl w-full relative overflow-hidden">
        
        <div class="absolute top-[-50px] left-[-50px] w-32 h-32 bg-purple-500/30 rounded-full blur-[80px]"></div>
        <div class="absolute bottom-[-50px] right-[-50px] w-32 h-32 bg-blue-500/30 rounded-full blur-[80px]"></div>

        <div class="text-center mb-10 relative z-10">
            <h1 class="font-logo text-5xl md:text-7xl font-extrabold mb-4 tracking-tight">
                <span class="text-white">Memo</span><span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-purple-400 animate-pulse-slow">Pulse</span>
                <span class="text-blue-500 text-4xl">.</span>
            </h1>
            <p class="text-lg text-gray-400 max-w-lg mx-auto font-light">
                Automate Ypur Minutes.
                <br>Record. Upload. <span class="text-blue-300 font-medium">Done.</span>
            </p>
        </div>

        {% with messages = get_flashed_messages() %}
            {% if messages %}
                {% for message in messages %}
                <div class="mb-8 p-4 rounded-xl border backdrop-blur-md text-center font-medium animate-fade-in
                    {% if 'Success' in message %}bg-green-500/10 border-green-500/30 text-green-300
                    {% else %}bg-red-500/10 border-red-500/30 text-red-300{% endif %}">
                    {{ message }}
                </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        {% if not summary %}
        <form method="POST" enctype="multipart/form-data" class="space-y-6 relative z-10">
            
            <div class="group">
                <label class="block text-xs font-bold text-gray-500 tracking-widest mb-2 uppercase">Recipients</label>
                <input type="text" name="emails" placeholder="boss@company.com, team@company.com" required
                    class="w-full px-5 py-4 bg-slate-900/50 border border-gray-700 rounded-xl focus:border-blue-500 focus:ring-1 focus:ring-blue-500 outline-none transition-all text-gray-100 placeholder-gray-600">
            </div>

            <div>
                 <label class="block text-xs font-bold text-gray-500 tracking-widest mb-2 uppercase">Audio File</label>
                <div class="relative group cursor-pointer">
                    <input type="file" name="audio_file" accept=".mp3,.wav,.m4a" required
                        class="cursor-pointer w-full text-sm text-gray-400 file:mr-4 file:py-3 file:px-6 file:rounded-lg file:border-0 file:text-xs file:font-bold file:uppercase file:bg-blue-600 file:text-white hover:file:bg-blue-500 border border-dashed border-gray-600 rounded-xl bg-slate-900/30 py-8 px-4 text-center group-hover:border-blue-500/50 transition-all">
                </div>
            </div>

            <div class="pt-4">
                <button type="submit" class="w-full py-4 px-6 rounded-xl font-bold text-white bg-gradient-to-r from-blue-600 to-indigo-700 hover:from-blue-500 hover:to-indigo-600 shadow-lg shadow-blue-900/40 transform hover:-translate-y-0.5 transition-all duration-200 text-lg tracking-wide">
                    âš¡ GENERATE PULSE
                </button>
            </div>
        </form>
        {% endif %}

        {% if summary %}
        <div class="mt-6 relative z-10">
            <div class="flex justify-between items-end mb-4">
                 <h3 class="text-2xl font-bold text-white">Your Pulse Report</h3>
                <a href="/" class="text-xs font-bold text-gray-400 hover:text-white transition-colors uppercase tracking-widest">Start New</a>
            </div>
           
            <div class="bg-slate-950/50 rounded-2xl p-6 border border-white/5 shadow-inner max-h-[450px] overflow-y-auto summary-scroll">
                <div class="prose prose-invert prose-headings:text-indigo-300 prose-p:text-gray-300 prose-li:text-gray-300 prose-strong:text-white max-w-none">
                    {{ summary | safe }}
                </div>
            </div>
             <div class="mt-4 flex items-center justify-center space-x-2 text-green-400/80 text-sm font-medium">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>
                <span>Sent to team successfully</span>
             </div>
        </div>
        {% endif %}

    </main>
</body>
</html>